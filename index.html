<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Card Game</title>
    <meta name="viewport"
          content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/topcoat/0.8.0/css/topcoat-mobile-light.min.css">
    <script src="//d3js.org/d3.v4.min.js"></script>
    <style>
        html > body {
            background-color: #fff;
            margin: 0;
        }

        fieldset {
            border: 1px solid rgba(0, 0, 0, 0.12);
            border-radius: 8px;
            padding: 5px 20px 0 20px;
            margin: 10px 10px 0 10px;
        }

        fieldset > label {
            margin-right: 10px;
        }

        fieldset legend {
            color: rgba(0, 0, 0, 0.36);
        }

        fieldset .topcoat-button {
            height: 2rem;
            line-height: 2rem;
        }

        fieldset .topcoat-button {
            padding-left: 1rem;
            padding-right: 1rem;
        }

        fieldset.no-legend {
            padding-top: 15px;
        }

        .wrap {
            margin: 10px 20px 20px 20px;
        }

        @media print {
            .no-print, .no-print * {
                display: none !important;
            }
        }

        @media screen {
            .no-screen, .no-screen * {
                display: none !important;
            }
        }

        svg {
            display: block;
            -webkit-transform: translate3d(0, 0, 0);
        }

        .wrap-print > svg {
            float: left;
        }

        .form {
            display: flex;
            margin-bottom: 20px;
            padding-left: 10px;
            padding-right: 10px;
        }

        @media screen and (max-width: 1700px) {
            .form {
                flex-wrap: wrap;
            }
        }

        @media screen and (max-width: 720px) {
            .page-game .form {
                flex-wrap: nowrap;
            }
        }

        @media screen and (max-width: 460px) {
            .no-mobile {
                display: none;
            }
        }

        .page-game .form {
            margin-bottom: 0;
            justify-content: center
        }

        fieldset > *:last-child {
            margin-right: 0;
        }

        .page-cards,
        .page-game {
            display: none;
        }

        .show-cards .page-cards {
            display: inherit;
        }

        .show-game .page-game {
            display: inherit;
        }

        .topcoat-radio-button {
            margin-bottom: 15px;
        }

        .topcoat-button, .topcoat-icon-button {
            margin-bottom: 15px;
            margin-right: 10px;
        }

        .topcoat-checkbox {
            margin-bottom: 15px;
        }

        body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .topcoat-icon-button {
            padding: 0 0.6rem;
            line-height: 1.8rem;
        }

        .topcoat-icon {
            width: 22px;
            height: 22px;
        }
    </style>
</head>
<body>
<div class="page-cards">
    <div class="form no-print">
        <fieldset>
            <legend>Set</legend>

            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="0" checked>
                <div class="topcoat-radio-button__checkmark"></div>
                Numbers
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="1">
                <div class="topcoat-radio-button__checkmark"></div>
                Misc
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="2">
                <div class="topcoat-radio-button__checkmark"></div>
                Icons
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="3">
                <div class="topcoat-radio-button__checkmark"></div>
                Smileys
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="4">
                <div class="topcoat-radio-button__checkmark"></div>
                Animals
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="5">
                <div class="topcoat-radio-button__checkmark"></div>
                Food
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="6">
                <div class="topcoat-radio-button__checkmark"></div>
                Flags
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="7">
                <div class="topcoat-radio-button__checkmark"></div>
                Words
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-symbols" value="8">
                <div class="topcoat-radio-button__checkmark"></div>
                Colors
            </label>
        </fieldset>

        <fieldset>
            <legend>Symbols</legend>

            <label class="topcoat-checkbox">
                <input type="checkbox" name="input-invert" checked>
                <div class="topcoat-checkbox__checkmark"></div>
                Background
            </label>
            <label class="topcoat-checkbox">
                <input type="checkbox" name="input-size" checked>
                <div class="topcoat-checkbox__checkmark"></div>
                Scale
            </label>

            <label class="topcoat-checkbox">
                <input type="checkbox" name="input-rotation" checked>
                <div class="topcoat-checkbox__checkmark"></div>
                Rotate
            </label>
            <label class="topcoat-checkbox">
                <input type="checkbox" name="input-shuffle" checked>
                <div class="topcoat-checkbox__checkmark"></div>
                Shuffle
            </label>
        </fieldset>

        <fieldset style="">
            <legend>Cards</legend>
            <label class="topcoat-checkbox">
                <input type="checkbox" checked name="input-circle">
                <div class="topcoat-checkbox__checkmark"></div>
                Circle
            </label>
            <label class="topcoat-checkbox">
                <input type="checkbox" checked name="select-overview">
                <div class="topcoat-checkbox__checkmark"></div>
                Overview
            </label>
        </fieldset>

        <fieldset>
            <legend>Deck</legend>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-deck" value="0">
                <div class="topcoat-radio-button__checkmark"></div>
                3&times;7
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-deck" value="1">
                <div class="topcoat-radio-button__checkmark"></div>
                4&times;13
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-deck" value="2">
                <div class="topcoat-radio-button__checkmark"></div>
                6&times;31
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="input-deck" value="3" checked>
                <div class="topcoat-radio-button__checkmark"></div>
                8&times;57
            </label>
        </fieldset>
        <fieldset>
            <legend>Columns</legend>
            <label class="topcoat-radio-button">
                <input type="radio" name="select-cols" value="3">
                <div class="topcoat-radio-button__checkmark"></div>
                3
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="select-cols" value="4">
                <div class="topcoat-radio-button__checkmark"></div>
                4
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="select-cols" value="6">
                <div class="topcoat-radio-button__checkmark"></div>
                6
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="select-cols" value="12" checked>
                <div class="topcoat-radio-button__checkmark"></div>
                12
            </label>
        </fieldset>

        <fieldset>
            <legend>View</legend>
            <button id="button-refresh" class="topcoat-button">Refresh</button>
            <button id="button-print" class="topcoat-button">Print</button>
            <button id="button-save" class="topcoat-button">Save</button>
            <a class="topcoat-button" target="_blank" href="https://github.com/darosh/card-game">About</a>
            <button id="button-game" class="topcoat-button topcoat-button--cta">Play</button>
        </fieldset>
    </div>
    <div class="wrap no-print"></div>
    <div class="wrap-print no-screen"></div>
</div>
<div class="page-game">
    <div class="form">
        <fieldset class="no-legend">
            <legend style="display: none;">Game</legend>

            <label class="topcoat-radio-button">
                <input type="radio" name="game-players" value="1" checked>
                <div class="topcoat-radio-button__checkmark"></div>
                1
            </label>
            <label class="topcoat-radio-button">
                <input type="radio" name="game-players" value="2">
                <div class="topcoat-radio-button__checkmark"></div>
                2
            </label>
            <label class="no-mobile topcoat-radio-button">
                <input type="radio" name="game-players" value="3">
                <div class="topcoat-radio-button__checkmark"></div>
                3
            </label>
            <label class="no-mobile topcoat-radio-button">
                <input type="radio" name="game-players" value="4">
                <div class="topcoat-radio-button__checkmark"></div>
                4
            </label>

            <button id="button-cards" class="topcoat-icon-button" title="Cards">
                <svg class="topcoat-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                     viewBox="-0.5 0.5 42 42">
                    <polygon fill-rule="evenodd"
                             points="27.066,1 7,21.068 26.568,40.637 31.502,35.704 16.865,21.068 32,5.933 "/>
                </svg>
            </button>
            <button id="button-full-screen" class="topcoat-icon-button" title="Expand">
                <svg class="topcoat-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                     viewBox="-0.5 0.5 42 42">
                    <path d="M21.391,16.17l4.439,4.439c1.13,1.131,1.57,1.101,2.67,0l6.67-6.67l5.33,5.34V1.5H22.721l5.34,5.33l-6.67,6.67 C20.311,14.58,20.279,15.061,21.391,16.17z M19.609,26.83l-4.439-4.439c-1.13-1.131-1.57-1.101-2.67,0l-6.67,6.67l-5.33-5.34V41.5 h17.779l-5.34-5.33l6.67-6.67C20.689,28.42,20.721,27.939,19.609,26.83z"/>
                </svg>
            </button>
            <button id="button-restart" class="topcoat-icon-button" title="Restart">
                <svg class="topcoat-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                     viewBox="-0.5 0.5 42 42">
                    <path d="M26.731,17.5H39.5V4.91l-4.335,4.385c-0.34-0.399-0.651-0.79-1.021-1.17c-7.48-7.5-19.572-7.5-27.042,0 c-7.479,7.5-7.465,19.661,0.015,27.161c7.471,7.5,19.597,7.5,27.078,0c0,0,2.505-2.939,3.334-4.51l-4.129-1.84 c-0.609,1.068-2.39,3.148-2.39,3.148c-5.719,5.74-14.979,5.74-20.689,0c-5.72-5.729-5.719-15.031,0-20.761 c5.71-5.74,14.971-5.74,20.689,0c0.381,0.38,0.729,0.574,1.061,0.984L26.731,17.5z"/>
                </svg>
            </button>
        </fieldset>
    </div>
    <div class="page-game board"></div>
</div>
<script src="scripts/utils.js"></script>
<script src="scripts/deck.js"></script>
<script src="scripts/game.js"></script>
<script src="scripts/cards.js"></script>
<script>
    if (document.location.hostname === 'darosh.github.io') {
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-90953829-2', {'cookieName': 'card-game'});
        ga('send', 'pageview');

        // https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim
        function trim(text) {
            return text.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
        }

        d3.selectAll('input, button, a')
            .on('click.ga', function () {
                var target = trim(d3.select(this).text()) || d3.select(this).attr('title');
                var parent;

                if (!target) {
                    target = trim(d3.select(this.parentElement).text());
                    parent = trim(d3.select(this.parentElement.parentElement.querySelector('legend')).text());
                } else {
                    parent = trim(d3.select(this.parentElement.querySelector('legend')).text());
                }

                ga('send', 'event', parent, target);
            });
    }
</script>
</body>
</html>
